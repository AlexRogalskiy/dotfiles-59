alias cls='clear'
alias cd..="cd .."
alias ..="cd .."
alias ls='ls $LS_OPTIONS -hF'
alias ll='ls $LS_OPTIONS -lAhF'
alias hosts='sudo $EDITOR /etc/hosts'

# mv, rm, cp
alias mv='mv -v'
# alias rm='rm -i -v'
alias cp='cp -v'

# Git
alias git=hub
alias g="git"
alias gc='git commit -v'
alias git-undopush='git push -f origin HEAD^:master'
alias git-stashpopforce='git stash show -p | git apply && git stash drop'
alias gpf='git push --force'

# using: git-reset-author old-mail@mail.com
git-reset-author() {
    git filter-branch --env-filter '
    OLD_EMAIL="maxence.poutord@hostelworld.com"
    CORRECT_NAME="Maxence POUTORD"
    CORRECT_EMAIL="maxence.poutord@gmail.com"
    if [ "$GIT_COMMITTER_EMAIL" = "$OLD_EMAIL" ]
    then
        export GIT_COMMITTER_NAME="$CORRECT_NAME"
        export GIT_COMMITTER_EMAIL="$CORRECT_EMAIL"
    fi
    if [ "$GIT_AUTHOR_EMAIL" = "$OLD_EMAIL" ]
    then
        export GIT_AUTHOR_NAME="$CORRECT_NAME"
        export GIT_AUTHOR_EMAIL="$CORRECT_EMAIL"
    fi
    ' --tag-name-filter cat -- --branches --tags
}

git-standup() {
    AUTHOR=${AUTHOR:="`git config user.name`"}

    since=yesterday
    if [[ $(date +%u) == 1 ]] ; then
        since="2 days ago"
    fi

    git log --all --since "$since" --oneline --author="$AUTHOR"
}

alias sourcetree='open -a SourceTree'

# Docker
alias doco='docker-compose'

# Vagrant
alias cdb='cd $HOME/box/scotch-box'
alias vup='cd $HOME/box/scotch-box && vagrant up && cd -'
alias vssh='cd $HOME/box/scotch-box && vagrant ssh && cd -'
alias vstop='cd $HOME/box/scotch-box && vagrant halt && cd -'
alias vfix='sudo /sbin/rcvboxdrv setup'

# Symfony
alias sf='php app/console'
alias sfcc='sf cache:clear'
alias sfsr='sf server:run -vvv'
alias sfcw='sf cache:warmup'
alias sfroute='sf debug:router'
alias sfcontainer='sf debug:container'
alias sfgb='sf generate:bundle'
alias sfdev='sf --env=dev'
alias sfprod='sf --env=prod'

# prepareDb() {
#    sf doctrine:database:drop --force --if-exists --env=test
#    sf doctrine:database:create --env=test
#    sf doctrine:schema:update --force --env=test
#    sf doctrine:fixtures:load --no-interaction --env=test
# }

# PHP tools
alias behat='bin/behat'
alias punit='phpunit -c app'

# Personal projects folders
alias cdp='cd $HOME/sites'
alias cdlab='cd $HOME/sites/lab'

# iMac + dual screen => ðŸ’”
dock() {
    defaults write com.apple.dock position-immutable -bool YES; killall Dock
}
ds_fucking_store() {
    sudo find / -name ".DS_Store" -depth -exec rm {} \;
}

# HTTP/REST API
jsonapi() {
    http "$@" Accept:application/vnd.api+json Content-Type:application/vnd.api+json
}

pyserver() {
    if [[ $OSTYPE == darwin* ]] ; then
        /usr/bin/open -a "/Applications/Google Chrome.app" 'http://127.0.0.1:8000/'
    else
        google-chrome "http://0.0.0.0:8000/"
    fi
    python -m SimpleHTTPServer 8000
}

#################
#    PROXY      #
#################
enableProxy() {
    export http_proxy=$HTTPPROXY
    export https_proxy=$HTTPSPROXY
}

disableProxy() {
    unset http_proxy
    unset https_proxy
}

# WTF Composer (https://github.com/composer/composer/issues/3611#issuecomment-72067198)
disableHttpsProxyOnly() {
    export http_proxy=$HTTPPROXY
    export HTTP_PROXY=$HTTPPROXY

    export https_proxy=
    export HTTPS_PROXY=
}
